(window["webpackJsonp_aleth_io_ethMemento"]=window["webpackJsonp_aleth_io_ethMemento"]||[]).push([[5],{AiaK:function(e,t,a){"use strict";a.r(t);var l=a("bb6g");var r=a("cDcd");var s=a.n(r);var i=a("sGQ9");var n=a("lvN2");var o=a("INKD");var h=a("C4qQ");var g=a("uJLN");var c=a("/Aw6");var d=a("2dLs");var p=a("Flqw");var u=a("0jj9");class m{constructor(e,t,a){this.txsViewMode=e;this.txsHighlightFields=t;this.txsGridSortingOptions=a}}var b=a("Q4N9");var v=a("+wbh");var y;!function(e){e["Value"]="value";e["ContractMessageCount"]="cmcount";e["GasUsed"]="gasused";e["GasPrice"]="gasprice";e["GasLimit"]="gaslimit";e["ContractCreationCount"]="ccreationcount"}(y||(y={}));class f extends v["a"]{constructor(){super();this.fields=[{key:y.Value,getLabel:e=>e.get("blockView.content.transactionsHighlight.value.label"),getData:e=>e.value},{key:y.ContractMessageCount,getLabel:e=>e.get("blockView.content.transactionsHighlight.contractMessageCount.label"),getData:e=>e.contractMsgCount},{key:y.GasUsed,getLabel:e=>e.get("general.gasUsed"),getData:e=>e.gasUsed},{key:y.GasPrice,getLabel:e=>e.get("general.gasPrice"),getData:e=>e.gasPrice},{key:y.GasLimit,getLabel:e=>e.get("general.gasLimit"),getData:e=>e.gasLimit},{key:y.ContractCreationCount,getLabel:e=>e.get("blockView.content.transactionsHighlight.contractCreationCount.label"),getData:e=>e.contractCreationCount}];this.setSelectedField(y.Value)}}class w{create(){return new m(new b["a"],new f,new u["a"])}}class E{constructor(e,t,a){this.txsViewMode=e;this.txsHighlightFields=t;this.txsGridSortingOptions=a}}var x;!function(e){e["Value"]="value";e["GasUsed"]="gasused";e["GasPrice"]="gasprice";e["GasLimit"]="gaslimit"}(x||(x={}));class S extends v["a"]{constructor(){super();this.fields=[{key:x.Value,getLabel:e=>e.get("blockView.content.transactionsHighlight.value.label"),getData:e=>e.value},{key:x.GasUsed,getLabel:e=>e.get("general.gasUsed"),getData:e=>e.gasUsed},{key:x.GasPrice,getLabel:e=>e.get("general.gasPrice"),getData:e=>e.gasPrice},{key:x.GasLimit,getLabel:e=>e.get("general.gasLimit"),getData:e=>e.gasLimit}];this.setSelectedField(x.Value)}}class V{create(){return new E(new b["a"],new S,new u["a"])}}var F=a("PlaU");var C=a("i0eD");var k=a("jhrA");var H=a("NdRp");var T=a("JM6r");var D=a("v8OL");var L=a("v6by");var M=a("Z1Mf");var G=a("j/K6");class P extends r["Component"]{render(){let{tx:e,translation:t,ethSymbol:a}=this.props;return r["createElement"](M["a"],null,r["createElement"](H["a"],{variant:"small"},e.hash),r["createElement"](h["a"],null,t.get("general.from")),r["createElement"](T["a"],{variant:"small"},e.from),Object(G["a"])(e)&&e.type===D["a"].Create?r["createElement"](r["Fragment"],null,r["createElement"](h["a"],null,t.get("general.creates")),r["createElement"](T["a"],{variant:"small",Icon:k["a"]},e.to)):r["createElement"](r["Fragment"],null,r["createElement"](h["a"],null,t.get("general.to")),r["createElement"](T["a"],{variant:"small"},e.to)),r["createElement"]("div",{style:{paddingLeft:8}},r["createElement"](h["a"],{arrow:!0,disabled:e.value.isZero()},t.get("txTooltip.value.label"))),r["createElement"]("div",{style:{display:"flex"}},r["createElement"](F["a"],{variant:"smallThin",wei:e.value,locale:this.props.locale,symbol:a}),this.props.latestEthPrice?r["createElement"](C["a"],{variant:"smallThin",value:Object(L["a"])(e.value).multipliedBy(this.props.latestEthPrice).toNumber(),locale:this.props.locale}):null))}}var O=a("a1Aa");var K=a("VBo9");var U=a("F3RY");var j=a("qJXn");function B(e,t){let a=e.dividedBy(t).multipliedBy(100).toNumber();return Math.floor(25*Math.log10(100*a+1))}var N=a("1cE2");function J(e,t=50){if(!e.length)return[];let a=N["a"].minimum(...e);let l;let r=N["a"].maximum(...e).minus(a);if(r.isZero())return e.map(e=>t);return e.map(e=>new N["a"](e).minus(a)).map(e=>B(e,r))}var _=a("0p73");var R=a("hfe/");var q=a("CC9R");var A=a("70YD");const I=Object(U["b"])("div").withConfig({displayName:"TxHighlight",componentId:"sc-1sbhjyk"})`
    ${({highlight:e})=>e?U["a"]`
        position: relative;
        &:before {
            content: "";
            position: absolute;

            border-radius: 50%;
            background-color: ${e=>e.theme.colors.selectBoxBubble};
            width: 8px;
            height: 8px;
            top: 5px;
            left: -15px;
        }
    `:""}
`;class Z{constructor(e,t){this.translation=e;this.highlight=t}render(e){return r["createElement"](I,{highlight:this.highlight(e)},this.translation.get("general.tx.type."+D["a"][e.type]))}}var $;!function(e){e["Type"]="type";e["Hash"]="hash";e["From"]="from";e["To"]="to";e["Value"]="value";e["Fee"]="fee"}($||($={}));class Q extends _["a"]{constructor(e,t,a,l){super();this.fields=[{label:e.get("general.grid.header.type.label"),fieldKey:$.Type,type:"string",isSortable:!0,selected:!0,getFieldValue:e=>D["a"][e.type],renderer:new Z(e,l)},{label:e.get("general.hash"),fieldKey:$.Hash,type:"string",isSortable:!0,selected:!0,alwaysVisible:!0,getFieldValue:e=>e.hash,renderer:new q["a"](e=>e.hash)},{label:e.get("general.from"),fieldKey:$.From,type:"string",isSortable:!0,selected:!0,getFieldValue:e=>e.from,renderer:new A["a"](e=>e.from)},{label:e.get("general.to"),fieldKey:$.To,type:"string",isSortable:!0,selected:!0,getFieldValue:e=>e.to,renderer:new A["a"](e=>e.to)},{label:e.get("general.valueEth",{"%s":a}),fieldKey:$.Value,type:"number",isSortable:!0,selected:!0,getFieldValue:e=>e.value,renderer:new R["a"](t,e=>e.value)},{label:e.get("general.feeEth",{"%s":a}),fieldKey:$.Fee,type:"number",isSortable:!0,selected:!0,getFieldValue:e=>e.gasUsed.multipliedBy(e.gasPrice),renderer:new R["a"](t,e=>e.gasUsed.multipliedBy(e.gasPrice))}]}}var W=a("ZjfP");var X=a("J6u5");class Y{constructor(e){this.highlight=e}render(e){return r["createElement"](I,{highlight:this.highlight(e)},r["createElement"](X["a"],{to:`page://aleth.io/tx?txHash=${e.hash}`},r["createElement"](W["a"],null,e.hash)))}}var z;!function(e){e["Hash"]="hash";e["From"]="from";e["To"]="to";e["Value"]="value";e["Fee"]="fee"}(z||(z={}));class ee extends _["a"]{constructor(e,t,a,l){super();this.fields=[{label:e.get("general.hash"),fieldKey:z.Hash,type:"string",isSortable:!0,selected:!0,alwaysVisible:!0,getFieldValue:e=>e.hash,renderer:new Y(l)},{label:e.get("general.from"),fieldKey:z.From,type:"string",isSortable:!0,selected:!0,getFieldValue:e=>e.from,renderer:new A["a"](e=>e.from)},{label:e.get("general.to"),fieldKey:z.To,type:"string",isSortable:!0,selected:!0,getFieldValue:e=>e.to,renderer:new A["a"](e=>e.to)},{label:e.get("general.valueEth",{"%s":a}),fieldKey:z.Value,type:"number",isSortable:!0,selected:!0,getFieldValue:e=>e.value,renderer:new R["a"](t,e=>e.value)},{label:e.get("general.feeEth",{"%s":a}),fieldKey:z.Fee,type:"number",isSortable:!0,selected:!0,getFieldValue:e=>e.gasUsed.multipliedBy(e.gasPrice),renderer:new R["a"](t,e=>e.gasUsed.multipliedBy(e.gasPrice))}]}}const te=U["b"].div.withConfig({displayName:"TxsGridRoot",componentId:"sc-1c1a0u6"})`
    margin-top: 16px;
`;let ae=class e extends r["Component"]{constructor(e){super(e);this.highlight=(e=>{let t=this.scaledHighlightValues.get(e);if(void 0===t)throw new Error(`Missing scaledHighlightValues for txHash "${e.hash}"`);return t>this.props.highlightThreshold});this.props.transactions.length&&Object(G["a"])(this.props.transactions[0])?this.gridFields=new Q(e.translation,e.locale,e.ethSymbol,this.highlight):this.gridFields=new ee(e.translation,e.locale,e.ethSymbol,this.highlight);this.gridSortingOptions=this.props.gridSortingOptions}componentDidUpdate(e){this.props.translation!==e.translation&&(this.props.transactions.length&&Object(G["a"])(this.props.transactions[0])?this.gridFields=new Q(this.props.translation,this.props.locale,this.props.ethSymbol,this.highlight):this.gridFields=new ee(this.props.translation,this.props.locale,this.props.ethSymbol,this.highlight))}render(){let e=this.props.transactions.map(e=>this.props.highlightDataSelector(e));this.scaledHighlightValues=this.computeScaledHighlightValues(e);const t=this.props.transactions.map(e=>({key:e.hash,data:e}));return r["createElement"](te,null,r["createElement"](j["a"],{rows:t,fields:this.gridFields,sortingOptions:this.gridSortingOptions,translation:this.props.translation}))}computeScaledHighlightValues(e){let t=new Map;J(e).forEach((e,a)=>{t.set(this.props.transactions[a],e)});return t}};l["b"]([K["observable"].ref],ae.prototype,"gridFields",void 0);l["b"]([K["action"]],ae.prototype,"componentDidUpdate",null);ae=l["b"]([i["observer"]],ae);a.d(t,"BlockTxs",function(){return re});const le=80;let re=class e extends s.a.Component{constructor(e){super(e);this.renderHeatMapTooltip=(e=>s.a.createElement(P,{tx:e,latestEthPrice:this.props.latestEthPrice,translation:this.props.translation,locale:this.props.locale,ethSymbol:this.props.ethSymbol}));let t=this.props.uiStateContainer.blockTxsState;if(!t){t=this.props.txs.length&&Object(G["a"])(this.props.txs[0])?(new w).create():(new V).create();this.props.uiStateContainer.blockTxsState=t}}render(){let{translation:e,txs:t,locale:a,uiStateContainer:l,ethSymbol:r}=this.props;let{txsGridSortingOptions:i,txsHighlightFields:u,txsViewMode:m}=l.blockTxsState;return s.a.createElement(s.a.Fragment,null,s.a.createElement(n["a"],{minWidth:610},s.a.createElement(o["a"],null,s.a.createElement(h["a"],null,e.get("blockView.content.transactions.label")),s.a.createElement(c["a"],null,t.length)),t.length?s.a.createElement(o["a"],null,s.a.createElement(h["a"],null,e.get("blockView.content.transactionsHighlight.label")),s.a.createElement(d["a"],{fields:u,translation:e}),s.a.createElement(p["a"],{txsViewMode:m})):null),t.length?s.a.createElement(s.a.Fragment,null,m.isHeatMapGrid?s.a.createElement(n["a"],null,s.a.createElement(o["a"],{fullRow:!0,autoHeight:!0},s.a.createElement("div",null),s.a.createElement("div",{style:{maxWidth:600}},s.a.createElement(O["a"],{transactions:t,highlightThreshold:80,highlightDataSelector:u.getSelectedField().getData,scaleValuesFn:J,txTooltipThunk:this.renderHeatMapTooltip})))):s.a.createElement(ae,{transactions:t,highlightThreshold:80,highlightDataSelector:u.getSelectedField().getData,gridSortingOptions:i,locale:a,translation:e,ethSymbol:r}),s.a.createElement(g["a"],{height:"64px"})):null)}};re=l["b"]([i["observer"]],re)},"j/K6":function(e,t,a){"use strict";a.d(t,"a",function(){return l});function l(e){return void 0!==e.type}},qJXn:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var l=a("bb6g");var r=a("cDcd");var s=a.n(r);var i=a("ptEp");class n extends r["Component"]{render(){let e=this.props,{translation:t}=e,a=l["c"](e,["translation"]);return r["createElement"](i["a"],Object.assign({},a,{noDataText:t.get("general.grid.footer.norowsavailable.label"),loadMoreText:t.get("general.grid.footer.loadMore.label")}))}}}}]);
//# sourceMappingURL=ed5df6b99674d9e1232a.bundle.js.map